import{S as Z,i as z,s as J,e as E,t as S,k as R,c as b,a as y,g as M,d as k,n as V,b as j,f as T,G as g,a5 as G,a6 as q,a7 as F,H as B,h as Q,A as X}from"../../chunks/vendor-dbb812ab.js";function K(a,e,t){const n=a.slice();return n[10]=e[t],n[12]=t,n}function L(a,e,t){const n=a.slice();return n[13]=e[t],n[15]=t,n}function U(a){let e,t,n,l,r,o,s,_;return{c(){e=E("h1"),t=S("you lost"),n=R(),l=E("h3"),r=S("Hit "),o=E("code"),s=S("ENTER"),_=S(" to restart"),this.h()},l(u){e=b(u,"H1",{class:!0});var v=y(e);t=M(v,"you lost"),v.forEach(k),n=V(u),l=b(u,"H3",{class:!0});var A=y(l);r=M(A,"Hit "),o=b(A,"CODE",{class:!0});var H=y(o);s=M(H,"ENTER"),H.forEach(k),_=M(A," to restart"),A.forEach(k),this.h()},h(){j(e,"class","tcenter svelte-k3usej"),j(o,"class","enter svelte-k3usej"),j(l,"class","tcenter svelte-k3usej")},m(u,v){T(u,e,v),g(e,t),T(u,n,v),T(u,l,v),g(l,r),g(l,o),g(o,s),g(l,_)},d(u){u&&k(e),u&&k(n),u&&k(l)}}}function P(a){let e,t,n,l;function r(){return a[7](a[12],a[15])}return{c(){e=E("div"),this.h()},l(o){e=b(o,"DIV",{class:!0}),y(e).forEach(k),this.h()},h(){j(e,"class",t=""+(G(`square ${a[13]}`)+" svelte-k3usej"))},m(o,s){T(o,e,s),n||(l=q(e,"click",r),n=!0)},p(o,s){a=o,s&2&&t!==(t=""+(G(`square ${a[13]}`)+" svelte-k3usej"))&&j(e,"class",t)},d(o){o&&k(e),n=!1,l()}}}function W(a){let e,t,n=a[10],l=[];for(let r=0;r<n.length;r+=1)l[r]=P(L(a,n,r));return{c(){e=E("div");for(let r=0;r<l.length;r+=1)l[r].c();t=R(),this.h()},l(r){e=b(r,"DIV",{class:!0});var o=y(e);for(let s=0;s<l.length;s+=1)l[s].l(o);t=V(o),o.forEach(k),this.h()},h(){j(e,"class","row svelte-k3usej")},m(r,o){T(r,e,o);for(let s=0;s<l.length;s+=1)l[s].m(e,null);g(e,t)},p(r,o){if(o&10){n=r[10];let s;for(s=0;s<n.length;s+=1){const _=L(r,n,s);l[s]?l[s].p(_,o):(l[s]=P(_),l[s].c(),l[s].m(e,t))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},d(r){r&&k(e),F(l,r)}}}function Y(a){let e,t,n,l,r;return{c(){e=E("div"),t=E("button"),n=S("Start again"),this.h()},l(o){e=b(o,"DIV",{class:!0});var s=y(e);t=b(s,"BUTTON",{});var _=y(t);n=M(_,"Start again"),_.forEach(k),s.forEach(k),this.h()},h(){j(e,"class","center restart svelte-k3usej")},m(o,s){T(o,e,s),g(e,t),g(t,n),l||(r=q(t,"click",a[5]),l=!0)},p:B,d(o){o&&k(e),l=!1,r()}}}function x(a){let e,t,n,l,r=a[0].length+"",o,s,_,u,v,A,H,c=a[2]&&U(),p=a[1],d=[];for(let f=0;f<p.length;f+=1)d[f]=W(K(a,p,f));let m=a[2]&&Y(a);return{c(){e=E("main"),c&&c.c(),t=R(),n=E("h3"),l=S("snake length "),o=S(r),s=R(),_=E("div"),u=E("div");for(let f=0;f<d.length;f+=1)d[f].c();v=R(),m&&m.c(),this.h()},l(f){e=b(f,"MAIN",{});var i=y(e);c&&c.l(i),t=V(i),n=b(i,"H3",{class:!0});var h=y(n);l=M(h,"snake length "),o=M(h,r),h.forEach(k),s=V(i),_=b(i,"DIV",{class:!0});var I=y(_);u=b(I,"DIV",{});var N=y(u);for(let w=0;w<d.length;w+=1)d[w].l(N);N.forEach(k),I.forEach(k),v=V(i),m&&m.l(i),i.forEach(k),this.h()},h(){j(n,"class","tcenter svelte-k3usej"),j(_,"class","center svelte-k3usej")},m(f,i){T(f,e,i),c&&c.m(e,null),g(e,t),g(e,n),g(n,l),g(n,o),g(e,s),g(e,_),g(_,u);for(let h=0;h<d.length;h+=1)d[h].m(u,null);g(e,v),m&&m.m(e,null),A||(H=q(window,"keydown",a[6]),A=!0)},p(f,[i]){if(f[2]?c||(c=U(),c.c(),c.m(e,t)):c&&(c.d(1),c=null),i&1&&r!==(r=f[0].length+"")&&Q(o,r),i&10){p=f[1];let h;for(h=0;h<p.length;h+=1){const I=K(f,p,h);d[h]?d[h].p(I,i):(d[h]=W(I),d[h].c(),d[h].m(u,null))}for(;h<d.length;h+=1)d[h].d(1);d.length=p.length}f[2]?m?m.p(f,i):(m=Y(f),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i:B,o:B,d(f){f&&k(e),c&&c.d(),F(d,f),m&&m.d(),A=!1,H()}}}let C=200,D=20,$=0;function O(a){return Math.floor(Math.random()*Math.floor(a))}function ee(a,e,t){let n=!1,l=[...Array(D)].map(()=>[...Array(D)].map(()=>"empty")),r=[[12,13]],o=[0,1],s=l;function _(){t(3,l[O(D)][O(D)]="food",l),t(3,l[O(D)][O(D)]="food",l)}_();const u=c=>{setTimeout(()=>{const[p,d]=r[$],[m,f]=o,i=[m+p,d+f];function h(w){return w<0||w>D-1}if(h(i[0])||h(i[1])){t(2,n=!0);return}let I=!1;s[i[0]][i[1]]==="food"&&(I=!0,_());const N=r.slice(0,r.length-(I?0:1));if(N.some(w=>w[0]===i[0]&&w[1]===i[1])){t(2,n=!0);return}t(0,r=[i,...N]),u(C-Math.min(r.length,15)*10)},c)};X(()=>{u(C)});function v(){t(0,r=[[12,13]]),t(4,o=[0,1]),t(3,l=[...Array(D)].map(()=>[...Array(D)].map(()=>"empty"))),t(1,s=l),_(),t(2,n=!1),u(C)}const A=c=>{switch(c.key){case"ArrowLeft":t(4,o=[0,-1]);break;case"ArrowRight":t(4,o=[0,1]);break;case"ArrowUp":t(4,o=[-1,0]);break;case"ArrowDown":t(4,o=[1,0]);break;case"Enter":v();break}},H=(c,p)=>t(3,l[c][p]="food",l);return a.$$.update=()=>{if(a.$$.dirty&3){for(let c=0;c<s.length;c++)for(let p=0;p<s.length;p++)s[c][p]==="snake"&&t(1,s[c][p]="empty",s);r.forEach(([c,p])=>{t(1,s[c][p]="snake",s)})}},[r,s,n,l,o,v,A,H]}class le extends Z{constructor(e){super();z(this,e,ee,x,J,{})}}export{le as default};
